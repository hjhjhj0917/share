#spring.application.name=Restroom

# Operation Mode

# WAS Port
server.port = 11000

# MariaDB Connection info
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://kopo-traine-my-mariadb-a8b65-108682208-808e1e21c33e.kr.lb.naverncp.com:13306/myDB
spring.datasource.username=poly
spring.datasource.password=poly1234

# ============================================
# HikariCP Connection Pool Settings
# @comment 2025-10-07
# ??: "Failed to validate connection" ?? ?? ? ???
# ============================================

# ?? ??? ? (???: 10)
spring.datasource.hikari.maximum-pool-size=10

# ?? ??(idle) ??? ? (???: maximum-pool-size? ??)
spring.datasource.hikari.minimum-idle=5

# ??? ???? (??? ???? ???? ?? ??, ???: 30000ms = 30?)
spring.datasource.hikari.connection-timeout=30000

# ?? ??? ???? (???? ??? ???? ?? ? ? ?? ?? ??)
# ??: ? ?? max-lifetime?? ??? ??? ????!
# 0?? ???? ?? ??? ???? ???? ????. (?, max-lifetime? ??? ??)
spring.datasource.hikari.idle-timeout=120000

# ??? ?? ?? (???? ??? ???? ? ?? ?? ??)
# ??: MariaDB? wait_timeout(?? 28800?=8??)?? ?? ???? ?? ?????.
# NCP ????? 5?(300000) ??? ???? ??????.
spring.datasource.hikari.max-lifetime=300000

# ??? ??? ?? ?? (MariaDB? ?? 'SELECT 1'? ???)
spring.datasource.hikari.connection-test-query=SELECT 1

# ???? ?? ??? ? ??? ??? ??
spring.datasource.hikari.connection-init-sql=SELECT 1

# ??? ?? ?? (??? ???? ? ?? ??)
spring.datasource.hikari.pool-name=RestroomHikariPool

# ??? ?? ?? ??? (ms, 0=????)
# ???? ???? ??? ?? ?? ?? ???? ??? ?? ??? ????.
spring.datasource.hikari.leak-detection-threshold=60000

# ============================================

# myBatis Settings
# DTO Location
mybatis.type-aliases-package=kopo.restroom.dto

# SQL Query Location
mybatis.mapper-locations=classpath:mapper/*.xml

# DTO Mapping camel case
mybatis.configuration.map-underscore-to-camel-case=true

# JSP Location
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp

# Tmap API ?
tmap.api.key=vPyaDzqAsj6yV2B0x2Bb25AsnDSvsyFo3qMI5Iy7

# Mail Sender
spring.mail.host=smtp.naver.com
spring.mail.port=465
spring.mail.username=cirnos@naver.com
spring.mail.password=RU7WTR26NJF7
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.naver.com
#spring.mail.properties.mail.debug=true

# ============================================
# Logging Settings (Optional)
# @comment 2025-10-07 ??: HikariCP ?? ?? ??
# ============================================
logging.level.com.zaxxer.hikari=INFO
logging.level.com.zaxxer.hikari.HikariConfig=DEBUG


management.endpoints.web.exposure.include=health,info,shutdown
management.endpoint.shutdown.enabled=true
#https://www.postman.com/downloads/   ????

##???IP
spring.data.redis.host=13.209.15.34
spring.data.redis.port=6379
spring.data.redis.username=poly
spring.data.redis.password=1234
spring.session.redis.flush-mode=on_save
server.servlet.session.timeout=10m



# Feign ??
feign.client.config.sentimentClient.connectTimeout=2000
feign.client.config.sentimentClient.readTimeout=3000
feign.client.config.sentimentClient.loggerLevel=FULL

# API ?? URL
sentiment.base-url=https://kosent.k-bigdata.kr
